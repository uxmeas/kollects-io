"use strict";(()=>{var e={};e.id=104,e.ids=[104],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},37402:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>d,staticGenerationAsyncStorage:()=>u});var o={};r.r(o),r.d(o,{GET:()=>c});var s=r(49303),n=r(88716),i=r(60670),a=r(87070);async function c(e,{params:t}){try{let{momentId:e}=t;try{let t=await fetch(`https://www.flowty.io/api/v1/collection/0xe4cf4bdc1751c65d/AllDay/listings?tokenId=${e}`,{headers:{"User-Agent":"Kollects.io/1.0",Accept:"application/json"}});if(t.ok){let e=(await t.json()).listings||[];if(e.length>0){let t=e.map(e=>e.price).filter(e=>e>0);return a.NextResponse.json({price:Math.min(...t),source:"Flowty",currency:"USD"})}}}catch(e){console.log("Flowty API error:",e)}try{let t=await fetch(`https://nft.flowverse.co/api/marketplace/AllDay/${e}`,{headers:{"User-Agent":"Kollects.io/1.0",Accept:"application/json"}});if(t.ok){let e=await t.json();if(e.lowestPrice)return a.NextResponse.json({price:e.lowestPrice,source:"Flowverse",currency:"USD"})}}catch(e){console.log("Flowverse API error:",e)}return a.NextResponse.json({price:null,source:"none",message:"No listings found"})}catch(e){return console.error("Price API Error:",e),a.NextResponse.json({error:"Failed to fetch price data",details:e.message},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/prices/[momentId]/route",pathname:"/api/prices/[momentId]",filename:"route",bundlePath:"app/api/prices/[momentId]/route"},resolvedPagePath:"/Users/pheakmeas/Documents/Development/Personal-Projects/kollects-io/app/api/prices/[momentId]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:u,serverHooks:d}=l,m="/api/prices/[momentId]/route";function h(){return(0,i.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:u})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,972],()=>r(37402));module.exports=o})();